#include "interrupt_handler.h"
#include "oled.h"
#include "clock.h"
#include "data_handle.h"
#include "io.h"


#include <stdio.h>

#include "xscutimer.h"
#include "xscugic.h"
#include "xgpio.h"
#include "xil_printf.h"

//--global variables
extern XGpio led, dip, push;
extern int led_count;

//--local variables
int psb_check, dip_check, dip_check_prev, count;
char timeBuffer [100];
char dateBuffer [100];

//--function prototypes
static int Init_Peripherals();

int main(){

	//--SETUP--

	//--init vars
	xil_printf("-- Start of the Program --\r\n");
	count = 0;

	//--init peripherals
	Init_Peripherals();


	//--interrupts
	Init_GIC();
	Configure_GIC();
	EnableInts();
	ExceptionInit();

	//--time setup
	Time currentTime = Clock_GetTime(CLOCK);
	FormatDate(currentTime, timeBuffer);
	FormatTime(currentTime, timeBuffer);
	xil_printf("time: %s | date: %s ||\r\n", timeBuffer, dateBuffer);


}

int Init_Peripherals(){
	return 0;
}
